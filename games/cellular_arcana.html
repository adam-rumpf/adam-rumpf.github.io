<!DOCTYPE html>
<html lang="en-us">
<head>
	<!-- Metadata -->
	<meta charset="utf-8">
	<title>Adam Rumpf: Cellular Arcana</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="Adam Rumpf">
	<meta name="description" content="Adam Rumpf: Cellular Arcana game">
	<link rel="stylesheet" href="../spooky_styles.css">
	<link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
	<base href="https://adam-rumpf.github.io/">
	
	<!-- KaTeX -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
	<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
	<script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>
</head>

<body>
	<header>
		Adam Rumpf: Math Person
	</header>
	
	<div class="navbar">
		<a href="https://adam-rumpf.github.io/">Home</a>
		<a href="cv.html">CV</a>
		<a href="teaching.html">Teaching</a>
		<a href="research.html">Research</a>
		<div class="dropdown">
			<button class="dropbtn">
				Demos...
			</button>
			<div class="dropdown-content">
				<p><a href="demos/mathematica.html">Mathematica Demonstrations</a></p>
				<p><a href="demos/jupyter.html">Jupyter Notebook Demonstrations</a></p>
			</div>
		</div>
		<div class="dropdown">
			<button class="dropbtn">
				Programs...
			</button>
			<div class="dropdown-content">
				<p><a href="programs/combat_turtles.html">Combat Turtles</a></p>
				<p><a href="programs/gamemaker_scripts.html">GameMaker Scripts</a></p>
				<p><a href="programs/cellular_automata.html">Cellular Automata Playground</a></p>
				<p><a href="programs/slight_misspeller.html">Slight Misspeller</a></p>
				<p><a href="programs/logic_circuits.html">Logic Circuits</a></p>
			</div>
		</div>
		<div class="dropdown">
			<button class="dropbtn" id="current">
				Games...
			</button>
			<div class="dropdown-content">
				<p><a href="games/chromagraph.html">Chromagraph</a></p>
				<p><a href="games/topological_asteroids.html">Topological Asteroids</a></p>
				<p><a href="games/cellular_arcana.html" id="current">Cellular Arcana</a></p>
				<p><a href="games/steepest_descent.html">Steepest Descent</a></p>
			</div>
		</div>
		<a href="papercraft.html">Papercraft</a>
		<a href="links.html">Links</a>
	</div>
	
	<br/>
	
	<h1>Cellular Arcana</h1>
	
	<p><iframe src="https://itch.io/embed/944262?bg_color=000000&amp;fg_color=d0d0d0&amp;link_color=c0a030&amp;border_color=333333" width="552" height="167" frameborder="0"><a href="https://adam-rumpf.itch.io/cellular-arcana">Cellular Arcana (Alpha) by Adam Rumpf</a></iframe></p>
	
	<!--<p><a href="https://github.com/adam-rumpf/cellular-arcana"><img src="https://img.shields.io/badge/download_source_code-black?style=for-the-badge&logo=github" alt="GitHub Link" title="Download source code" width="300px"/></a></p>-->
	
	<p>A roguelike dungeon crawler with cellular automata-based magic. <i>(This project is currently in development but you can check out the public alpha at its <a href="https://adam-rumpf.itch.io/cellular-arcana">itch.io page</a>.)</i></p>
	
	<p>This is a <a href="https://en.wikipedia.org/wiki/Roguelike">roguelike</a> dungeon crawler where you play as a wizard with a <a href="https://adam-rumpf.itch.io/wizard-names">dumb name</a> and inconvenient spells. Your spells are based on <a href="https://en.wikipedia.org/wiki/Cellular_automaton">cellular automata</a> (CA), a type of mathematical model where cells in a grid interact with their neighboring cells to give rise to complex emergent behavior (the most famous example being <a href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life">Conway's Game of Life</a>).</p>
	
	<div class="spacer">
		<div class="darkest">
			<p class="center">
				<img src="images/cellular_arcana/earth_spell.webp" width="32px"/>
				<img src="images/cellular_arcana/frost_spell.webp" width="32px"/>
				<img src="images/cellular_arcana/fire_spell.webp" width="32px"/>
				<img src="images/cellular_arcana/lightning_spell.webp" width="32px"/>
				<img src="images/cellular_arcana/poison_spell.webp" width="32x"/>
			</p>
		</div>
	</div>
	
	<p>This project is still in development and currently consists of little more than a tech demo for the CA-based spell system. I may periodically update it over time to get it to the point of being a full-fledged game. Or not. We'll see.</p>
	
	<!-- Screenshots -->
	
	<h2 id="screenshots">Screenshots</h2>
	
	<p class="center">
		<img src="images/cellular_arcana/alpha01_01.png" height="300px"/>
		<img src="images/cellular_arcana/alpha01_02.png" height="300px"/>
		<img src="images/cellular_arcana/alpha01_03.png" height="300px"/>
		<img src="images/cellular_arcana/alpha01_04.png" height="300px"/>
	</p>
	
	<!-- Mathematical Background -->
	
	<!-- ### -->
	
	<!-- 7DRL Build -->
	
	<h2 id="7drl">7DRL Challenge</h2>
	
	<p>I began working on this project as part of an intended submission for <a href="https://itch.io/jam/7drl-challenge-2021">7 Day Roguelike (7DRL) Challenge 2021</a>. Due perhaps in part to most of my previous experiences with roguelikes being <a href="https://bindingofisaacrebirth.fandom.com/wiki/Binding_of_Isaac:_Rebirth_Wiki">action-based</a>, my preliminary ideas revolved around developing interesting procedural generation systems for action game weapons based on <a href="https://en.wikipedia.org/wiki/Metaheuristic">metaheuristic</a> optimization techniques. I would still like to play around with those ideas at some point, but I felt like it would be more in the spirit of the jam to try to hew closer to the classic <a href="https://en.wikipedia.org/wiki/Roguelike">roguelike</a> style. That got me to thinking about a turn- and tile-based game, and eventually to the idea of using <a href="https://en.wikipedia.org/wiki/Cellular_automata">cellular automata</a> (a topic with which I have <a href="programs/cellular_automata.html">some level</a> of familiarity) for gameplay purposes. Thinking about "classic" roguelikes is also what motivated me to go for a fantasy dungeon crawling setting (along of course with my love of <a href="https://www.d20pfsrd.com/"><i>D&amp;D</i></a>).</p>
	
	<p>Making the player into a wizard, and making their spells behave like a CA, seemed to be the natural way to incorporate CA into a roguelike. My initial ideas for procedural spell generation were significantly more complicated and involved more effort on the part of the player to control the behavior of their spell. For simplicity I decided to just pick the CA at random from a list of rules that I had generated beforehand by writing a program to search for ones likely to lead to "interesting" patterns. As a result the gameplay tends to be rather unbalanced from run-to-run since some patterns are far more useful than others, and with lifelike CA it can be pretty easy to get yourself killed, but that's funny so I decided to roll with it. In fact, one of my favorite fantasy games is <a href="https://www.arrowheadgamestudios.com/aboutarrowhead/games/magicka/"><i>Magicka</i></a>, which does an excellent job of making its magic system feel dangerous and powerful due to how easily you can accidentally kill yourself with your own spells. I really enjoy works that portray wizards as <a href="https://www.terrypratchettbooks.com/book-series/discworld/">irresponsible doofuses</a>, which is also what led me to spend so much time working on a random generation system for creating <a href="https://adam-rumpf.itch.io/wizard-names">dumb wizard names</a>.</p>
	
	<p class="center"><img src="images/cellular_arcana/jam_01.png" height="350px" title="My first screenshot of the jam build, before diagonal movement was added. The random name generation system is in place, so clearly I had my priorities in order."/></p>
	
	<p>Unfortunately I wasn't able to get much visible done by the end of the jam period. What I had finished was essentially a turn-based board game engine where you could create pretty patterns made out of a crude fire sprite. I really should have learned since <a href="games/steepest_descent.html">my last jam entry</a> to stop spending so much time on complicated underlying systems that the player never actually sees. Although it seems like just getting pieces to move around a board would be easy, the fact that I wanted to animate their movement, to implement enemy pathfinding, and to handle several different CA systems simultaneously required a surprising amount of groundwork to be laid before I could actually get to the gameplay part.</p>
	
	<p>The pathfinding issue turned out to be one of the biggest stumbling blocks during the jam period, and was one of the things that ended up eating the most time. As a <a href="https://arxiv.org/abs/2102.05248">semi-professional graph lad</a>, when presented with the task of figuring out how to get enemies on a game board to find the shortest path to the player, the first thing that occurs to me is <a href="https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm">Dijkstra's algorithm</a>. My original plan was to maintain a graph representation of the game board and to use that for finding shortest paths, and I even made a <a href="https://github.com/adam-rumpf/game-maker-scripts#graph-objects-and-functions">GMS2 local asset package</a> for it, but that turned out to be far too computationally expensive on a board with hundreds of spaces. Having sunk a couple of days worth of development time into it, I eventually abandoned that system for a lightweight implementation of <a href="https://en.wikipedia.org/wiki/A*_search_algorithm">A* search</a> that uses only an array representation of the board while keeping the graph structures implicit, and making the switch dramtically improved the time required to compute enemy moves.</p>
	
	<p>The enemy pathfinding algorithm also resulted in some interesting unexpected behavior. <i>Cellular Arcana</i> allows diagonal movement (since disallowing it makes the entire game feel much slower), meaning that distances on the board are measured as <a href="https://en.wikipedia.org/wiki/Chebyshev_distance">Chebyshev distance</a>. Under this metric moving diagonally counts as exactly the same distance as moving rectilinearly, unlike <a href="https://en.wikipedia.org/wiki/Euclidean_distance">Euclidean Distance</a> where diagonal movement takes longer. As a result, if the player is located on the same rank or file as an enemy, the enemy often takes a circuitous-looking zig-zagging route to move closer to the player, since under Chebyshev distance that takes no longer than a straight path. I like the result since it makes it seem like the enemies are attempting to avoid a direct line of sight to the player as if to dodge the player's attacks, even though that isn't something they've actually been programmed to do (yet).</p>
	
	<p class="center"><img src="images/cellular_arcana/jam_02.png" height="350px" title="A diagnostic test image from when I was implementing the enemy pathfinding system. The colored dots show the (Chebyshev) shortest paths from each enemy to the player."/></p>
	
	<p>By the end of the 7-day jam period I had only really gotten the movement system, melee attacks, and a few spell patterns in place, along with <a href="https://upload.wikimedia.org/wikipedia/commons/2/25/Red.svg">placeholder art</a> for most of the game's elements. I could have perhaps gotten it to a somewhat playable state with a little more time, but it would not have gotten anywhere near my original plans for the dungeon exploration and the spell development. Rather than releasing a half-finished project I decided to shelve it.</p>
	
	<p class="center"><img src="images/cellular_arcana/jam_03.png" height="350px" title="The elementary CA spell system and the terrible-looking fire animation from before I drew the pixel art myself."/></p>
	
	<p>That is, until...</p>
	
	<!-- Alpha Build -->
	
	<h2 id="alpha">Early Access</h2>
	
	<p>... I decided to still leave it mostly on the shelf, but to occasionally poke and prod it and also to let other people in because hey I put a lot of work into that shelf.</p>
	
	<p>Previously I've preferred to keep all of my projects private until they're done to my level of satisfaction, but not too long after the 7DRL jam ended I started a <a href="https://floridapoly.edu/academic-departments/applied-mathmatics.php">new career</a>. With all of the preparation required for the position I knew that I would not have much time to work on game design projects for another year or so, and I certainly didn't like the prospect of going so long without releasing <i>something</i>, so I decided to continue to work on <i>Cellular Arcana</i> off-and-on as an early access game.</p>
	
	<p>As of the initial <a href="https://adam-rumpf.itch.io/cellular-arcana">public alpha</a> release the project has achieved what I would consider to be a bare minimum of what is required to constitute a gameplay demo, including completing the artwork, adding sound, and implementing a rudimentary room battle progression system to allow for endless mode. The eventual plan is to flesh out the game by adding different areas, shops, more enemies, and an actual ending, as well as differentiating the different spell elements (which currently differ only cosmetically), though I cannot say for certain whether any of that will ever happen. I will still certainly continue to release games in the future, but I may well have lost interest in this particular project and moved on to something else by the time I'm able to finally work on it.</p>
	
	<div class="spacer">
		<div class="darkest">
			<p class="center">
				<img src="images/cellular_arcana/dire_rat.webp" width="32px"/>
				<img src="images/cellular_arcana/skeleton_fighter.webp" width="32px"/>
				<img src="images/cellular_arcana/buer.webp" width="32px"/>
				<img src="images/cellular_arcana/skeleton_archer.webp" width="32px"/>
				<img src="images/cellular_arcana/plague_doctor.webp" width="32x"/>
			</p>
		</div>
	</div>
	
	<p>I have to say that this game includes the best pixel art I've ever made. Working within a 16x16 pixel square forces you to adopt a stylized approach in order for anything to be recognizable. For example, trying to draw a realistically-proportioned adult humanoid in that little space would make their limbs about 1 pixel wide, which would make all humanoid characters look nearly identical. But giving every character a huge head that takes up half of the square grants much more space in which to add distinguishing details.</p>
	
	<footer>
		<hr>
		<p>© 2021 <a href="mailto:arumpf@floridapoly.edu">Adam Rumpf</a></p>
	</footer>
</body>
</html>
